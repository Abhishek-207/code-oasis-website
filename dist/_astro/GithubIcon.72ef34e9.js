import{r as e}from"./index.f1bc5ebf.js";import{u as M,s as $,a as b,P as j,L as G}from"./motion.e3ea24f3.js";import{j as w}from"./jsx-runtime.109e40f8.js";function I(){const n=e.useRef(!1);return M(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function U(){const n=I(),[o,t]=e.useState(0),r=e.useCallback(()=>{n.current&&t(o+1)},[o]);return[e.useCallback(()=>$.postRender(r),[r]),o]}class A extends e.Component{getSnapshotBeforeUpdate(o){const t=this.props.childRef.current;if(t&&o.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B({children:n,isPresent:o}){const t=e.useId(),r=e.useRef(null),m=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:a,height:f,top:u,left:h}=m.current;if(o||!r.current||!a||!f)return;r.current.dataset.motionPopId=t;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${f}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[o]),e.createElement(A,{isPresent:o,childRef:r,sizeRef:m},e.cloneElement(n,{ref:r}))}const y=({children:n,initial:o,isPresent:t,onExitComplete:r,custom:m,presenceAffectsLayout:a,mode:f})=>{const u=b(K),h=e.useId(),l=e.useMemo(()=>({id:h,initial:o,isPresent:t,custom:m,onExitComplete:i=>{u.set(i,!0);for(const c of u.values())if(!c)return;r&&r()},register:i=>(u.set(i,!1),()=>u.delete(i))}),a?void 0:[t]);return e.useMemo(()=>{u.forEach((i,c)=>u.set(c,!1))},[t]),e.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),f==="popLayout"&&(n=e.createElement(B,{isPresent:t},n)),e.createElement(j.Provider,{value:l},n)};function K(){return new Map}function O(n){return e.useEffect(()=>()=>n(),[])}const x=n=>n.key||"";function S(n,o){n.forEach(t=>{const r=x(t);o.set(r,t)})}function T(n){const o=[];return e.Children.forEach(n,t=>{e.isValidElement(t)&&o.push(t)}),o}const V=({children:n,custom:o,initial:t=!0,onExitComplete:r,exitBeforeEnter:m,presenceAffectsLayout:a=!0,mode:f="sync"})=>{let[u]=U();const h=e.useContext(G).forceRender;h&&(u=h);const l=I(),i=T(n);let c=i;const d=new Set,E=e.useRef(c),C=e.useRef(new Map).current,R=e.useRef(!0);if(M(()=>{R.current=!1,S(i,C),E.current=c}),O(()=>{R.current=!0,C.clear(),d.clear()}),R.current)return e.createElement(e.Fragment,null,c.map(s=>e.createElement(y,{key:x(s),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:f},s)));c=[...c];const g=E.current.map(x),z=i.map(x),P=g.length;for(let s=0;s<P;s++){const p=g[s];z.indexOf(p)===-1&&d.add(p)}return f==="wait"&&d.size&&(c=[]),d.forEach(s=>{if(z.indexOf(s)!==-1)return;const p=C.get(s);if(!p)return;const v=g.indexOf(s),L=()=>{C.delete(s),d.delete(s);const k=E.current.findIndex(F=>F.key===s);if(E.current.splice(k,1),!d.size){if(E.current=i,l.current===!1)return;u(),r&&r()}};c.splice(v,0,e.createElement(y,{key:x(p),isPresent:!1,onExitComplete:L,custom:o,presenceAffectsLayout:a,mode:f},p))}),c=c.map(s=>{const p=s.key;return d.has(p)?s:e.createElement(y,{key:x(s),isPresent:!0,presenceAffectsLayout:a,mode:f},s)}),e.createElement(e.Fragment,null,d.size?c:c.map(s=>e.cloneElement(s)))},W=()=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",className:"w-6 h-6 mr-3 fill-gray-400",children:w.jsx("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})});export{V as A,W as G};
